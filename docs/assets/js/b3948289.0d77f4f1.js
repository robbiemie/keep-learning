"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([[8606],{2778:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>d,contentTitle:()=>r,default:()=>l,frontMatter:()=>s,metadata:()=>o,toc:()=>m});const o=JSON.parse('{"id":"web/css/rem","title":"rem","description":"","source":"@site/markdown/web/02.css/rem.md","sourceDirName":"web/02.css","slug":"/web/css/rem","permalink":"/docs/docs/web/css/rem","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"flex \u5e03\u5c40","permalink":"/docs/docs/web/css/flex"},"next":{"title":"Javascript","permalink":"/docs/docs/web/js,ts/javascript"}}');var i=t(4848),c=t(8453);const s={},r=void 0,d={},m=[];function u(n){const e={code:"code",pre:"pre",...(0,c.R)(),...n.components};return(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-js",children:"import debounce from 'lodash.debounce';\n\nexport function changeWindow() {\n  let winWidth;\n  let winHeight;\n  if (document.documentElement && document.documentElement.clientHeight && document.documentElement.clientWidth) {\n    winHeight = document.documentElement.clientHeight;\n    winWidth = document.documentElement.clientWidth;\n  }\n\n  const frameStyle = document.body.style;\n  frameStyle.width = `${winWidth}px`;\n  frameStyle.height = `${winHeight}px`;\n\n  return {\n    winWidth,\n    winHeight\n  };\n}\n\nexport function checkFontSize() {\n  const { winWidth } = changeWindow();\n  // \u8bbe\u8ba1\u7a3f\u5bbd\u5ea6\n  const UI_WIDTH = 390;\n\n  // \u4fee\u6539font-size, rem\u81ea\u9002\u5e94\u8bbe\u5907\n  const fontSize = ((parseFloat(winWidth) / UI_WIDTH) * 100).toFixed(4);\n\n  return fontSize;\n}\n\nexport function pxToRem(px) {\n  const rootFontSize = checkFontSize();\n\n  return Number((px / rootFontSize).toFixed(2));\n}\n\nexport function changeSize() {\n  const fontSize = checkFontSize();\n  // fontSize = fontSize > 115 ? 115 : fontSize;\n  document.documentElement.style.fontSize = `${fontSize}px`;\n\n  // \u9002\u914d\u5bf9font-size\u989d\u5916\u5904\u7406\u7684\u624b\u673a\n  const nowFontSize = parseFloat(getComputedStyle(document.documentElement, false)['font-size']);\n  if (`${nowFontSize}` !== fontSize) {\n    document.documentElement.style.fontSize = `${(fontSize * fontSize) / nowFontSize}px`;\n  }\n}\n\nexport function checkMobile() {\n  // \u975eiframe\n  if (window && window.top === window.self) {\n    window.onresize = debounce(() => {\n      changeSize();\n    }, 100);\n\n    setTimeout(() => changeSize()); // \u517c\u5bb9htmlAttrs\n  }\n}\n\nexport function checkPC() {\n  // \u975eiframe\n  if (window && window.top === window.self) {\n    window.onresize = debounce(() => {\n      changeWindow();\n    }, 100);\n\n    changeWindow();\n  }\n}\n"})})}function l(n={}){const{wrapper:e}={...(0,c.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(u,{...n})}):u(n)}},8453:(n,e,t)=>{t.d(e,{R:()=>s,x:()=>r});var o=t(6540);const i={},c=o.createContext(i);function s(n){const e=o.useContext(c);return o.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:s(n.components),o.createElement(c.Provider,{value:e},n.children)}}}]);