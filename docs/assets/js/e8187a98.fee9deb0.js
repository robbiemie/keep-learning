"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([[1264],{2801:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>_,frontMatter:()=>s,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"web/\u6784\u5efa\u5de5\u5177/webpack/webpack\u6a21\u5757\u5316","title":"webpack \u6a21\u5757\u5316","description":"webpack \u8f93\u51fa\u4ea7\u7269\u6a21\u5757\u7ed3\u6784","source":"@site/markdown/web/08.\u6784\u5efa\u5de5\u5177/01.webpack/01.webpack\u6a21\u5757\u5316.md","sourceDirName":"web/08.\u6784\u5efa\u5de5\u5177/01.webpack","slug":"/web/\u6784\u5efa\u5de5\u5177/webpack/webpack\u6a21\u5757\u5316","permalink":"/keep-learning/docs/web/\u6784\u5efa\u5de5\u5177/webpack/webpack\u6a21\u5757\u5316","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"docker\u67b6\u6784\u8bbe\u8ba1","permalink":"/keep-learning/docs/web/cicd/docker/docker\u67b6\u6784\u8bbe\u8ba1"},"next":{"title":"\u6a21\u5757\u8def\u5f84\u89e3\u6790","permalink":"/keep-learning/docs/web/\u6784\u5efa\u5de5\u5177/webpack/\u6a21\u5757\u8def\u5f84\u89e3\u6790"}}');var o=t(4848),c=t(8453);const s={},i="webpack \u6a21\u5757\u5316",d={},l=[{value:"webpack \u8f93\u51fa\u4ea7\u7269\u6a21\u5757\u7ed3\u6784",id:"webpack-\u8f93\u51fa\u4ea7\u7269\u6a21\u5757\u7ed3\u6784",level:2},{value:"webpack dynamic import",id:"webpack-dynamic-import",level:2}];function a(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"webpack-\u6a21\u5757\u5316",children:"webpack \u6a21\u5757\u5316"})}),"\n",(0,o.jsx)(n.h2,{id:"webpack-\u8f93\u51fa\u4ea7\u7269\u6a21\u5757\u7ed3\u6784",children:"webpack \u8f93\u51fa\u4ea7\u7269\u6a21\u5757\u7ed3\u6784"}),"\n",(0,o.jsx)(n.p,{children:"\u5047\u8bbe\u6709\u4e0b\u9762\u4e24\u4e2a\u6a21\u5757\u6587\u4ef6"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"// 1. src/moduleA.js\nexport const greeting = 'Hello';\n\n// 2. src/moduleB.js\nimport { greeting } from './moduleA';\nconsole.log(`${greeting}, World!`);\n"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"$ npx webpack ./webpack.moduleB.js -o ./bundle.js --mode=development\n"})}),"\n",(0,o.jsxs)(n.p,{children:["\u6253\u5305\u4ea7\u7269\u6587\u4ef6 ",(0,o.jsx)(n.code,{children:"bundle.js"})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:'// dist/bundle.js\n/*\n * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").\n * This devtool is neither made for production nor for readable output files.\n * It uses "eval()" calls to create a separate source file in the browser devtools.\n * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)\n * or disable the default devtool with "devtool: false".\n * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).\n */\n/******/ (() => { // webpackBootstrap\n/******/ \t"use strict";\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ "./webpack.moduleA.js":\n/*!****************************!*\\\n  !*** ./webpack.moduleA.js ***!\n  \\****************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval("__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   greeting: () => (/* binding */ greeting)\\n/* harmony export */ });\\nconst greeting = \'Hello\';\\n\\n//# sourceURL=webpack:///./webpack.moduleA.js?");\n\n/***/ }),\n\n/***/ "./webpack.moduleB.js":\n/*!****************************!*\\\n  !*** ./webpack.moduleB.js ***!\n  \\****************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval("__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var _webpack_moduleA_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./webpack.moduleA.js */ \\"./webpack.moduleA.js\\");\\n\\nconsole.log(`${_webpack_moduleA_js__WEBPACK_IMPORTED_MODULE_0__.greeting}, World!`);\\n\\n//# sourceURL=webpack:///./webpack.moduleB.js?");\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t(() => {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = (exports, definition) => {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t(() => {\n/******/ \t\t__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/make namespace object */\n/******/ \t(() => {\n/******/ \t\t// define __esModule on exports\n/******/ \t\t__webpack_require__.r = (exports) => {\n/******/ \t\t\tif(typeof Symbol !== \'undefined\' && Symbol.toStringTag) {\n/******/ \t\t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: \'Module\' });\n/******/ \t\t\t}\n/******/ \t\t\tObject.defineProperty(exports, \'__esModule\', { value: true });\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/************************************************************************/\n/******/ \t\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \t// This entry module can\'t be inlined because the eval devtool is used.\n/******/ \tvar __webpack_exports__ = __webpack_require__("./webpack.moduleB.js");\n/******/ \t\n/******/ })()\n;\n'})}),"\n",(0,o.jsx)(n.p,{children:"\u4ee3\u7801\u5206\u6790\uff1a"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"WebpackBootstrap"}),"\n"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\u6253\u5305\u8f93\u51fa\u7684\u4ee3\u7801\u4ee5\u4e00\u4e2a\u7acb\u5373\u6267\u884c\u51fd\u6570\uff08Immediately Invoked Function Expression\uff0cIIFE\uff09\u7684\u5f62\u5f0f\u5f00\u59cb\uff0c\u547d\u540d\u4e3a ",(0,o.jsx)(n.code,{children:"webpackBootstrap"}),"\u3002\u8fd9\u4e2a\u51fd\u6570\u8d1f\u8d23\u521d\u59cb\u5316 Webpack \u8fd0\u884c\u73af\u5883\u5e76\u52a0\u8f7d\u6a21\u5757\u3002"]}),"\n"]}),"\n",(0,o.jsxs)(n.ol,{start:"2",children:["\n",(0,o.jsx)(n.li,{children:"webpack_modules \u548c webpack_module_cache"}),"\n"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"__webpack_modules__"})," \u5bf9\u8c61\u5b58\u50a8\u4e86\u6240\u6709\u6a21\u5757\u7684\u5b9a\u4e49\u548c\u52a0\u8f7d\u903b\u8f91\uff0c\u6bcf\u4e2a\u6a21\u5757\u7684\u8def\u5f84\u4f5c\u4e3a\u952e\uff0c\u5bf9\u5e94\u7684\u52a0\u8f7d\u51fd\u6570\u4f5c\u4e3a\u503c"]}),"\n"]}),"\n",(0,o.jsxs)(n.ol,{start:"3",children:["\n",(0,o.jsx)(n.li,{children:"webpack_require \u51fd\u6570"}),"\n"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"__webpack_require__"})," \u51fd\u6570\u662f\u6a21\u5757\u52a0\u8f7d\u5668\u7684\u6838\u5fc3\uff0c\u7528\u4e8e\u52a0\u8f7d\u6a21\u5757\u5e76\u6267\u884c\u6a21\u5757\u7684\u4ee3\u7801\u3002\u5b83\u63a5\u53d7\u4e00\u4e2a\u6a21\u5757\u8def\u5f84\u4f5c\u4e3a\u53c2\u6570\uff0c\u5e76\u8fd4\u56de\u8be5\u6a21\u5757\u7684\u5bfc\u51fa\u5bf9\u8c61\u3002"]}),"\n"]}),"\n",(0,o.jsxs)(n.ol,{start:"4",children:["\n",(0,o.jsx)(n.li,{children:"\u6a21\u5757\u5b9a\u4e49"}),"\n"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\u6bcf\u4e2a\u6a21\u5757\u7684\u5b9a\u4e49\u88ab\u5c01\u88c5\u5728\u4e00\u4e2a\u533f\u540d\u51fd\u6570\u4e2d\uff0c\u5e76\u4ee5\u6a21\u5757\u8def\u5f84\u4e3a\u952e\u5b58\u50a8\u5728 ",(0,o.jsx)(n.code,{children:"__webpack_modules__"})," \u5bf9\u8c61\u4e2d\u3002\u8fd9\u4e9b\u533f\u540d\u51fd\u6570\u63a5\u53d7\u4e09\u4e2a\u53c2\u6570\uff1a",(0,o.jsx)(n.code,{children:"module"}),"\u3001",(0,o.jsx)(n.code,{children:"exports"})," \u548c ",(0,o.jsx)(n.code,{children:"__webpack_require__"})]}),"\n",(0,o.jsx)(n.li,{children:"\u5728\u8fd9\u4e9b\u533f\u540d\u51fd\u6570\u4e2d\uff0c\u6a21\u5757\u7684\u4ee3\u7801\u88ab\u6267\u884c\uff0c\u5e76\u4e14\u6a21\u5757\u7684\u5bfc\u51fa\u5bf9\u8c61\uff08exports\uff09\u88ab\u8d4b\u503c\u4e3a\u6a21\u5757\u7684\u5bfc\u51fa\u5185\u5bb9\u3002"}),"\n"]}),"\n",(0,o.jsxs)(n.ol,{start:"5",children:["\n",(0,o.jsx)(n.li,{children:"\u6a21\u5757\u52a0\u8f7d\u548c\u6267\u884c"}),"\n"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\u6bcf\u4e2a\u6a21\u5757\u7684\u52a0\u8f7d\u903b\u8f91\u90fd\u7531 ",(0,o.jsx)(n.code,{children:"__webpack_require__"})," \u51fd\u6570\u5b8c\u6210\u3002\u5f53\u8c03\u7528 ",(0,o.jsx)(n.code,{children:"__webpack_require__(moduleId)"})," \u65f6\uff0c\u5b83\u4f1a\u6839\u636e\u6a21\u5757\u8def\u5f84\u4ece ",(0,o.jsx)(n.code,{children:"__webpack_modules__"})," \u5bf9\u8c61\u4e2d\u83b7\u53d6\u6a21\u5757\u7684\u5b9a\u4e49\uff0c\u5e76\u6267\u884c\u76f8\u5e94\u7684\u52a0\u8f7d\u51fd\u6570\uff0c\u7136\u540e\u8fd4\u56de\u6a21\u5757\u7684\u5bfc\u51fa\u5bf9\u8c61\u3002"]}),"\n"]}),"\n",(0,o.jsxs)(n.ol,{start:"6",children:["\n",(0,o.jsx)(n.li,{children:"\u6a21\u5757\u5bfc\u51fa"}),"\n"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\u6a21\u5757\u7684\u5bfc\u51fa\u5185\u5bb9\u88ab\u5b9a\u4e49\u5728\u6a21\u5757\u7684 ",(0,o.jsx)(n.code,{children:"exports"})," \u5bf9\u8c61\u4e2d\uff0c\u53ef\u4ee5\u901a\u8fc7 ",(0,o.jsx)(n.code,{children:"__webpack_require__"})," \u51fd\u6570\u52a0\u8f7d\u5e76\u8bbf\u95ee\u3002"]}),"\n"]}),"\n",(0,o.jsxs)(n.ol,{start:"7",children:["\n",(0,o.jsx)(n.li,{children:"\u6a21\u5757\u4e4b\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb"}),"\n"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\u6a21\u5757\u4e4b\u95f4\u7684\u4f9d\u8d56\u5173\u7cfb\u901a\u8fc7 ",(0,o.jsx)(n.code,{children:"__webpack_require__"})," \u51fd\u6570\u52a8\u6001\u52a0\u8f7d\u548c\u89e3\u6790\uff0c\u6bcf\u4e2a\u6a21\u5757\u5728\u52a0\u8f7d\u65f6\u90fd\u4f1a\u9012\u5f52\u5730\u52a0\u8f7d\u5b83\u6240\u4f9d\u8d56\u7684\u6a21\u5757\uff0c\u5e76\u786e\u4fdd\u6a21\u5757\u7684\u4f9d\u8d56\u5173\u7cfb\u88ab\u6ee1\u8db3\u3002"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"webpack-dynamic-import",children:"webpack dynamic import"}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsx)(n.p,{children:"Webpack \u4e2d\u7684\u52a8\u6001 import \u5b9e\u9645\u4e0a\u662f\u901a\u8fc7 ECMAScript \u7684\u63d0\u6848\u4e2d\u7684\u52a8\u6001 import \u5b9e\u73b0\u7684\u3002\u52a8\u6001 import \u5141\u8bb8\u5728\u4ee3\u7801\u8fd0\u884c\u65f6\u5f02\u6b65\u5730\u52a0\u8f7d\u6a21\u5757\uff0c\u800c\u4e0d\u662f\u5728\u7f16\u8bd1\u65f6\u9759\u6001\u5730\u52a0\u8f7d\u6a21\u5757\u3002"}),"\n"]}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"**\u89e3\u6790\u4ee3\u7801\uff1a**\u5f53 Webpack \u89e3\u6790\u4ee3\u7801\u65f6\uff0c\u4f1a\u8bc6\u522b\u5e76\u89e3\u6790\u6240\u6709\u7684 import \u8bed\u53e5\uff0c\u5305\u62ec\u9759\u6001 import \u548c\u52a8\u6001 import\u3002"}),"\n",(0,o.jsx)(n.li,{children:"**\u751f\u6210 Chunk\uff1a**\u5f53\u9047\u5230\u52a8\u6001 import \u8bed\u53e5\u65f6\uff0cWebpack \u4f1a\u5c06\u8be5 import \u8bed\u53e5\u6240\u5728\u7684\u6a21\u5757\u5355\u72ec\u6253\u5305\u6210\u4e00\u4e2a Chunk\uff08\u4ee3\u7801\u5757\uff09\u3002"}),"\n",(0,o.jsx)(n.li,{children:"**\u4ee3\u7801\u5206\u5272\uff1a**Webpack \u4f1a\u6839\u636e\u52a8\u6001 import \u8bed\u53e5\u7684\u4f4d\u7f6e\u548c\u4f9d\u8d56\u5173\u7cfb\uff0c\u5c06\u76f8\u5e94\u7684\u6a21\u5757\u5206\u5272\u6210\u4e0d\u540c\u7684 Chunk\u3002\u6bcf\u4e2a Chunk \u90fd\u4f1a\u5305\u542b\u4e00\u4e2a\u72ec\u7acb\u7684\u6a21\u5757\u6216\u6a21\u5757\u96c6\u5408\u3002"}),"\n",(0,o.jsx)(n.li,{children:"**\u5f02\u6b65\u52a0\u8f7d\uff1a**\u5728\u8fd0\u884c\u65f6\uff0c\u5f53\u9047\u5230\u52a8\u6001 import \u8bed\u53e5\u65f6\uff0c\u6d4f\u89c8\u5668\u4f1a\u5f02\u6b65\u5730\u52a0\u8f7d\u76f8\u5e94\u7684 Chunk\u3002Webpack \u4f1a\u751f\u6210\u4e00\u4e2a\u65b0\u7684 HTTP \u8bf7\u6c42\uff0c\u8bf7\u6c42\u5bf9\u5e94\u7684 Chunk \u6587\u4ef6\uff0c\u5e76\u5728\u6587\u4ef6\u52a0\u8f7d\u5b8c\u6210\u540e\u6267\u884c\u76f8\u5e94\u7684\u4ee3\u7801\u3002"}),"\n",(0,o.jsx)(n.li,{children:"**\u6a21\u5757\u6267\u884c\uff1a**\u4e00\u65e6 Chunk \u6587\u4ef6\u52a0\u8f7d\u5b8c\u6210\uff0c\u5176\u4e2d\u7684\u6a21\u5757\u5c31\u4f1a\u88ab\u6267\u884c\u3002\u8fd9\u6837\uff0c\u52a8\u6001 import \u7684\u6a21\u5757\u5c31\u53ef\u4ee5\u5728\u8fd0\u884c\u65f6\u88ab\u52a8\u6001\u52a0\u8f7d\u548c\u6267\u884c\u4e86\u3002"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"const constructor = {\n  'index.js': {\n    entry: 'index.js',\n    sourceCode: `\n      console.log('1')\n    `,\n    dependenceGraph: [\n      './a.js',\n      './b.js'\n    ],\n  },\n  './a.js': {\n\n  },\n  './b.js': {\n  }\n}\n\n\n\n(function() {\n\n  const module = {\n    'index.js': {\n      sourceCode: ``\n    },\n    './a.js': {\n      // ...\n    },\n    './b.js': {\n      // ...\n    }\n  }\n\n  function requireFn(entry) {\n    const sourceMap = {}\n  }\n\n  requireFn('./index.js')\n  \n})()\n"})})]})}function _(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>i});var r=t(6540);const o={},c=r.createContext(o);function s(e){const n=r.useContext(c);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),r.createElement(c.Provider,{value:n},e.children)}}}]);