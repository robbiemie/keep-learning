# 正则表达式

> 正则表达式（Regular Expression）是一种用于匹配字符串模式的工具，它可以帮助我们在文本中搜索、替换、提取符合特定模式的内容。正则表达式是由字符和操作符组成的字符串，它描述了字符串的某种特征或模式，比如特定的字符、字符集合、重复次数等。

下面是一些常见的正则表达式操作符：

## 1. 字符匹配

![Alt text](image.png)

- `.`：匹配除换行符之外的任意字符。
- `\w`：匹配任意字母、数字或下划线。
- `\d`：匹配任意数字。
- `\s`：匹配任意空白字符，包括空格、制表符、换行符等。

## 2. 字符类别

- `|`：匹配左或右任意字符
- `[abc]`：匹配字符集合中的任意一个字符。
- `[a-z]`：匹配a-z之间任意单个元素
- `[^abc]`：匹配除了字符集合中的任意一个字符。

## 3. 重复匹配

- `*`：匹配前面的字符零次或多次。
- `+`：匹配前面的字符一次或多次。
- `?`：匹配前面的字符零次或一次。
- `{n}`：匹配前面的字符恰好 n 次。
- `{n,}`：匹配前面的字符至少 n 次。
- `{n,m}`：匹配前面的字符至少 n 次，但不超过 m 次。

## 4. 定位符

- `^`：匹配字符串的开头。
- `$`：匹配字符串的结尾。
- `\b`：匹配单词的边界。
- `\B`：匹配非单词的边界。

## 5. 分组和引用

> 在正则表达式中，分组是指将多个模式元素组合在一起，并将它们作为一个单元来处理。分组的主要目的是为了方便对模式进行逻辑组合、重复和捕获。正则表达式中的分组用圆括号 () 来表示。

- `()`：将表达式分组。
- `(?:)`: 表示一个不进行捕获的分组，它只用于逻辑分组而不会将匹配到的内容保存到结果中。
- `\1`、`\2`：引用分组匹配到的内容。

1. 逻辑分组：将多个模式元素组合在一起以形成一个逻辑单元。逻辑分组可以用来控制元素之间的顺序和逻辑关系，从而构建更复杂的模式。

```js
/(abc|def)/     // 匹配 "abc" 或 "def"
```

2. 捕获分组：将分组中匹配到的内容捕获到一个单独的组中，以便后续的引用或处理。

```js
let str = '0917-3792238'
// 匹配电话号码的区号和号码部分，并分别捕获到两个组中
str.match(/(\d{4})-(\d{7})/) // output: ['0917-3792238', '0917', '3792238']
```

3. 非捕获分组：与捕获分组类似，但不会将匹配到的内容捕获到一个组中。非捕获分组在不需要捕获内容的情况下，可以提高性能并减少内存消耗。

假设我们有一个正则表达式，用于匹配一个日期格式（例如 YYYY-MM-DD），但我们只对月份和日期部分感兴趣，不需要捕获年份。

我们可以使用非捕获分组来实现这一点：

```js
let str = '2024-02-22';
console.log(str.match(/(?:\d{4})-(\d{2})-(\d{2})/)); // output: ['2024-02-22', '02', '22']
```

4. 反向引用：在正则表达式中使用分组匹配的内容。反向引用允许在同一个模式中引用之前捕获的内容，以实现更复杂的匹配和替换。

case1:

```js
let str = 'this is my little girl.'
// 匹配两个连续相同的字母或数字
console.log(str.match(/(\w)\1/g)) // output: ['tt']
```

case2:

```js
let str = 'this is my my wife.she is mi mi.'
let reg = /(\w+) \1/g
console.log(str.match(reg)); // output: ['is is', 'my my', 'mi mi'];
```

## 6. 转义字符

- `\`：用于转义特殊字符，使其失去特殊意义。

## 7. 贪婪模式

> 在正则表达式中，贪婪模式（Greedy Mode）是指正则表达式引擎在匹配时尽可能多地匹配字符的特性。换句话说，贪婪模式会尽可能地匹配更多的字符，直到无法继续匹配为止。

- `+` 贪婪模式：匹配前面的字符至少一次，尽可能多地匹配。
- `*` 贪婪模式：匹配前面的字符零次或多次，尽可能多地匹配。
- `?` 贪婪模式：匹配前面的字符零次或一次，尽可能多地匹配。

case1:

```js
let str = `<div>some content</div>`
// 向后贪婪匹配最后一个 >
console.log(str.match(/<.+>/)); // output: <div>some content</div>
```

case2:

```js
let str = 'abcd123'
// 向后贪婪匹配最后一个\d
console.log(str.match(/.*\d/)); // output: abcd123
```


## 8. 非贪婪模式

> 非贪婪模式（Non-Greedy Mode）是正则表达式中的一种匹配模式，也称为懒惰模式或最小匹配模式。非贪婪模式与贪婪模式相反，它会尽可能少地匹配字符，直到满足匹配条件为止。

在正则表达式中，**使用 ? 操作符可以将某些重复匹配操作符转换为非贪婪模式**。

- `+?` 非贪婪模式：匹配前面的字符至少一次，尽可能少地匹配。
- `*?` 非贪婪模式：匹配前面的字符零次或多次，尽可能少地匹配。
- `??` 非贪婪模式：匹配前面的字符零次或一次，尽可能少地匹配。

常见的重复匹配操作符**包括 *、+、?、{m,n} 等**，通过在其后添加 ? 将其转换为非贪婪模式。

case1:

```js
let str = `<div>some content</div>`
// 只匹配第一个<>停止向后匹配
console.log(str.match(/<.+?>/)); // output: <div>some content</div>
```

case2: 

```js
let str = 'abcd123'
// 向后贪婪匹配最后一个\d
console.log(str.match(/.*?\d/)); // output: abcd123
```


## 常用正则

1. 匹配邮箱

`case: example@163.com`

```js
let str = 'example@163.com';

let reg1 = /^\w[a-z|A-Z|0-9]+@[a-z|A-Z|0-9]+\.com$/; // ok

```

