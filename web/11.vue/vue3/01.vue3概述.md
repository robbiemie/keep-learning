# vue3 概述

> Vue 3 相比于 Vue 2 做出了多项重大升级和改进，旨在提供更好的性能、更高的开发效率以及更加灵活的代码组织方式。

以下是 Vue 3 相比于 Vue 2 的主要升级点：

## 1. 组合式 API（Composition API）

- Vue 2 使用的是选项式 API，这意味着在一个组件中，相关的逻辑会根据选项（如 methods, computed, data）分散到不同的地方。
- Vue 3 引入了组合式 API，允许开发者更灵活地组织和重用逻辑。通过使用 setup 函数，开发者可以更好地将代码按逻辑聚合，而不是按照选项分散，这对于复杂组件的管理尤其有用。

case1:

```js
import { ref } from 'vue';

export default {
  setup() {
    const message = ref("Hello, Vue 3!");

    return { message };
  },
};
```

case2:

```js
import { ref, computed } from 'vue';

export default {
  setup() {
    const firstName = ref("John");
    const lastName = ref("Doe");
    const fullName = computed(() => `${firstName.value} ${lastName.value}`);

    return { firstName, lastName, fullName };
  },
};

```


## 2. 性能提升

- Vue 3 对虚拟 DOM 进行了重写，引入了更快的挂载和更新算法。它还采用了 Proxy 对象重写响应性系统，从而提供更好的性能和内存使用优化。
- 引入了 Tree-shaking 支持，意味着最终打包的文件只包含用到的功能，进一步减少了应用的体积。

## 3. 更好的 TypeScript 支持

- Vue 2 提供了 TypeScript 支持，但并不是从零开始设计来完全兼容 TypeScript。
- Vue 3 是以 TypeScript 编写的，提供了从核心代码到 API 的完全类型支持，使得开发者可以享受到更一致和强大的类型检查体验。

```ts
import { ref, computed } from 'vue';

export default {
  setup() {
    const firstName = ref("John");
    const lastName = ref("Doe");
    const fullName = computed(() => `${firstName.value} ${lastName.value}`);

    return { firstName, lastName, fullName };
  },
};
```

## 4. 新的响应性系统

- Vue 2 使用的响应性系统基于 Object.defineProperty 实现。
- Vue 3 的响应性系统基于 ES6 的 Proxy 实现，这允许 Vue 跟踪更多种类的变化（例如数组索引和对象属性的添加/删除），并且有更好的性能。

## 5. 更多内置功能

- Vue 3 引入了多个新的内置组件和 API，如 Teleport（传送门）、Fragments（片段）、Suspense（用于数据获取的异步组件等待机制）等，增强了 Vue 的功能性和灵活性。

## 6. 自定义渲染器 API

- Vue 3 提供了自定义渲染器 API，使得开发者可以更容易地创建跨平台应用，例如使用同一套逻辑代码在不同的环境下渲染（Web、移动端原生渲染等）。

## 7. 更轻量、更快

- 通过优化包的体积和更新性能，Vue 3 在运行时更加高效，尤其是在移动设备和低性能设备上。

## 8. 兼容性和平滑迁移

- 尽管 Vue 3 引入了许多新特性，Vue 团队还是提供了兼容性构建版本和迁移工具，帮助开发者从 Vue 2 平滑迁移到 Vue 3。


